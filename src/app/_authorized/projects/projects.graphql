# Paginated projects
query GetProjects(
  $limit: Int
  $offset: Int
  $condition: projects_bool_exp! = {}
  $orderBy: [projects_order_by!] = { created_at: desc }
) {
  projects(
    where: $condition
    limit: $limit
    offset: $offset
    order_by: $orderBy
  ) {
    ...ProjectFields
  }

  projects_aggregate(where: $condition) {
    aggregate {
      count
    }
  }
}

query GetProjectById($id: uuid) {
  projects(where: { id: { _eq: $id } }) {
    ...ProjectFields
  }
}

fragment ProjectFields on projects {
  id
  created_at
  updated_at
  status
  description
  label
  owner: user {
    id
    name
    family
  }
}
